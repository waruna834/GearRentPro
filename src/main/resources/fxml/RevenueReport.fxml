<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.gearrentpro.controller.RevenueReportController"
      spacing="10" style="-fx-padding: 15;">
    
    <Label text="Revenue Report" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
    
    <!-- Filters Section -->
    <VBox spacing="12" style="-fx-border-color: #bdc3c7; -fx-border-width: 1; -fx-border-radius: 5; -fx-padding: 15; -fx-background-color: #ecf0f1;">
        
        <Label text="Report Filters" style="-fx-font-size: 13; -fx-font-weight: bold;"/>
        
        <GridPane hgap="15" vgap="12">
            <Label text="Branch:" GridPane.columnIndex="0" GridPane.rowIndex="0" style="-fx-font-weight: bold;"/>
            <Label fx:id="branchNameLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="0" style="-fx-font-weight: bold;"/>

            <Label text="From Date:" GridPane.columnIndex="0" GridPane.rowIndex="1" style="-fx-font-weight: bold;"/>
            <DatePicker fx:id="fromDatePicker" GridPane.columnIndex="1" GridPane.rowIndex="1" style="-fx-font-size: 12; -fx-padding: 8;"/>
            
            <Label text="To Date:" GridPane.columnIndex="0" GridPane.rowIndex="2" style="-fx-font-weight: bold;"/>
            <DatePicker fx:id="toDatePicker" GridPane.columnIndex="1" GridPane.rowIndex="2" style="-fx-font-size: 12; -fx-padding: 8;"/>
        </GridPane>
        
        <HBox spacing="10">
            <Button onAction="#handleGenerateReport" text="Generate Report" 
                    style="-fx-padding: 10 30; -fx-font-size: 12; -fx-font-weight: bold; -fx-background-color: #27ae60; -fx-text-fill: white;"/>
            <Button onAction="#handleExportReport" text="Export to CSV" 
                    style="-fx-padding: 10 30; -fx-font-size: 12; -fx-font-weight: bold; -fx-background-color: #3498db; -fx-text-fill: white;"/>
        </HBox>
    </VBox>
    
    <Separator/>
    
    <!-- Total Revenue -->
    <Label fx:id="totalRevenueLabel" text="Total Revenue: LKR 0.00" 
            style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #27ae60;"/>
    
    <!-- Report Table -->
    <TableView fx:id="reportTable" VBox.vgrow="ALWAYS" style="-fx-font-size: 12;">
        <columns>
            <TableColumn fx:id="branchNameColumn" text="Branch" prefWidth="150"/>
            <TableColumn fx:id="totalRentalsColumn" text="Total Rentals" prefWidth="120"/>
            <TableColumn fx:id="totalIncomeColumn" text="Total Income" prefWidth="150"/>
            <TableColumn fx:id="totalDepositColumn" text="Total Deposits" prefWidth="150"/>
            <TableColumn fx:id="totalLateFeesColumn" text="Late Fees" prefWidth="150"/>
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
        </columnResizePolicy>
    </TableView>
</VBox>